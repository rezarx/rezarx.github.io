<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REZAR & STORY - PUBG Hesap SatÄ±ÅŸ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            transition: all 0.3s ease;
        }
        .dark-theme {
            background-color: #333;
            color: #fff;
        }
        .light-theme {
            background-color: #fff;
            color: #000;
        }
        header {
            padding: 10px;
            background-color: #444;
            color: #fff;
            text-align: center;
        }
        #theme-toggle {
            cursor: pointer;
        }
        nav a {
            color: #fff;
            margin: 10px;
        }
        .container {
            padding: 20px;
        }
        input {
            margin: 10px 0;
            padding: 10px;
            width: 100%;
        }
        button {
            padding: 10px 20px;
            background-color: #444;
            color: #fff;
            border: none;
            cursor: pointer;
        }
    </style>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>
<body>

<header>
    <button id="theme-toggle">ðŸŒ™</button>
    <h1>REZAR & STORY</h1>
    <nav>
        <a href="#register" id="register-link">KayÄ±t Ol</a>
        <a href="#login" id="login-link">GiriÅŸ Yap</a>
    </nav>
</header>

<div class="container">
    <h2 id="form-title">KayÄ±t Ol</h2>
    <form id="auth-form">
        <input type="email" id="email" placeholder="E-posta" required>
        <input type="password" id="password" placeholder="Åžifre" required>
        <input type="text" id="username" placeholder="KullanÄ±cÄ± AdÄ±" required>
        <div class="g-recaptcha" data-sitekey="YOUR_RECAPTCHA_SITE_KEY"></div>
        <button type="submit">KayÄ±t Ol</button>
    </form>
</div>

<!-- Firebase Configuration -->
<script>
    const firebaseConfig = {
        apiKey: "YOUR_FIREBASE_API_KEY",
        authDomain: "YOUR_FIREBASE_AUTH_DOMAIN",
        projectId: "YOUR_FIREBASE_PROJECT_ID",
        storageBucket: "YOUR_FIREBASE_STORAGE_BUCKET",
        messagingSenderId: "YOUR_FIREBASE_MESSAGING_SENDER_ID",
        appId: "YOUR_FIREBASE_APP_ID"
    };
    firebase.initializeApp(firebaseConfig);

    const auth = firebase.auth();
    const db = firebase.firestore();

    const themeToggle = document.getElementById('theme-toggle');
    const formTitle = document.getElementById('form-title');
    const authForm = document.getElementById('auth-form');

    // Tema geÃ§iÅŸi
    themeToggle.addEventListener('click', () => {
        document.body.classList.toggle('dark-theme');
        const currentTheme = document.body.classList.contains('dark-theme') ? 'dark' : 'light';
        localStorage.setItem('theme', currentTheme);
    });

    document.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem('theme') || 'light';
        document.body.classList.add(savedTheme === 'dark' ? 'dark-theme' : 'light-theme');
    });

    // KayÄ±t ve GiriÅŸ Ä°ÅŸlemleri
    authForm.addEventListener('submit', (e) => {
        e.preventDefault();

        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const username = document.getElementById('username').value;

        // reCAPTCHA doÄŸrulamasÄ±
        const recaptchaResponse = grecaptcha.getResponse();
        if (!recaptchaResponse) {
            alert("LÃ¼tfen robot olmadÄ±ÄŸÄ±nÄ±zÄ± doÄŸrulayÄ±n!");
            return;
        }

        // Firebase ile kullanÄ±cÄ± kaydÄ±
        auth.createUserWithEmailAndPassword(email, password)
            .then((userCredential) => {
                const user = userCredential.user;

                // KullanÄ±cÄ± bilgilerini Firestore'a kaydet
                db.collection("users").doc(user.uid).set({
                    username: username,
                    email: email
                }).then(() => {
                    alert('KayÄ±t baÅŸarÄ±lÄ±! GiriÅŸ yapabilirsiniz.');
                    window.location.href = '#login'; // GiriÅŸ sayfasÄ±na yÃ¶nlendir
                }).catch((error) => {
                    alert("KayÄ±t sÄ±rasÄ±nda hata oluÅŸtu: " + error.message);
                });
            })
            .catch((error) => {
                alert("KayÄ±t sÄ±rasÄ±nda hata oluÅŸtu: " + error.message);
            });
    });

    // GiriÅŸ Yapma
    document.getElementById('login-link').addEventListener('click', () => {
        formTitle.textContent = 'GiriÅŸ Yap';
        authForm.innerHTML = `
            <input type="email" id="email" placeholder="E-posta" required>
            <input type="password" id="password" placeholder="Åžifre" required>
            <button type="submit">GiriÅŸ Yap</button>
        `;

        authForm.addEventListener('submit', (e) => {
            e.preventDefault();

            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    alert('GiriÅŸ baÅŸarÄ±lÄ±!');
                    // GiriÅŸ baÅŸarÄ±lÄ±ysa admin veya kullanÄ±cÄ± paneline yÃ¶nlendirebilirsin.
                })
                .catch((error) => {
                    alert("GiriÅŸ sÄ±rasÄ±nda hata oluÅŸtu: " + error.message);
                });
        });
    });
</script>

</body>
</html>
